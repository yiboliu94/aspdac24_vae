\section{Introduction}
\label{sec:intro}
Electromigration (EM) is a physical phenomenon that the metal atoms migrate along the direction of several driving forces, such as the applied electrical field. 
With the complexity of modern very large scale integration (VLSI) designs, EM remains the top reliability failure mechanism for copper-based interconnects in all the sub-nanometer technologies.
As a consequence of the EM effect, when the hydrostatic stress inside the metal wire reaches the critical level, resistance may varies over time during the migration, and the conducting electrons at the cathode and anode will form a void and a hillock.
The EM crisis becomes even worse as technology advances to smaller manufacturing processes. 
%The International Roadmap for Devices and Systems (IRDS) \cite{IRDS20} predicts that the allowable current density will continue to decrease due to EM, while the required current density to drive the gates will continue to increase. Developing and employing more accurate EM models and less conservative EM sign-off and assessment techniques for EM-aware designs and runtime management is critical. 

On chip power distribution networks (PDN) is a mesh-structured network, which provide power to transistors from top metals, are usually vulnerable to the EM-induced failures, since the current on the PDN are large and unidirectional. In order to design robust PDN, designers have to properly size the PDN wires to meet the area and IR drop requirement. This task is changeling as the wires resistance may change along the time due to the EM effect, resulting in IR drops go blow the threshold after years of aging effect. 

\begin{figure}[htp]
	\centering
	\subfigure[]{
		\includegraphics[width=0.4\columnwidth]{./figs/icc2pg.eps}
		\label{fig:icc2pg}}
	\subfigure[]{
		\includegraphics[width=0.48\columnwidth]{./figs/genpg.eps}
		\label{fig:genpg}}
	\caption{(a) Power and ground networks of Cortex-M0 DesignStart; (b) Voltage drop map of the power network of (a).}
	\label{fig:pgimage}
\end{figure}


Many past research works tried to address the EM-aware PDN reliability issue based analytical methods, such as nonlinear or sequence of linear programming (SLP) methods~\cite{ChBr:TCAD'88,DuMa:DAC'89,Tan:DAC'99,Wang:TCAD'05,ZhouSun:TVLSI'19, Sukharev:2019pg, ZhouYu:ASPDAC'20,ZhouJin:ICCAD'20}. Zhou {\it et al.}~\cite{ZhouSun:TVLSI'19,ZhouChen:Integration'21} proposed a power grid network sizing method based on a multi-segment EM immortality check criteria. Moudallal {\it et al.}~\cite{Sukharev:2019pg} proposed to directly consider EM-induced IR drops instead of EM constraints on the time-varying power grid networks. It can consider post-voiding resistance change of wires based on finite difference analysis of EM-induced stress in multi-segment wires, and solve the resulting nonlinear problem by applying successive linear programming. This method, however, suffers high computational costs when the size of the power grid increase, as the sensitivity matrices construction solving workload scales up polynomially.
   

Some studies pay attention to ML-based PDN IR drop estimation ~\cite{LinFang:2018vts,Fang:2018dynireco,HoKahng:ICCAD'19,Xie:2020powernet,Sachin:ASPDAC'21} to reduce the design time. 
The key idea of these methods aims to substitute the standard full-chip IR drop analysis tool to data-driven feature extraction and training. Lin {\it et al.}~\cite{LinFang:2018vts} tried to extract power and physical features from cells and layouts to conduct the full-chip dynamic IR drop analysis. Zhou {\it et al.} \cite{ZhouJin:ICCAD'20} take EM aging effects into consideration with a GAN-based model and extend it to the fast PDN IR drop fixing. However GAN-based strategies have some drawbacks, such as training collapse due to the need to optimize the opposing objectives of the generator and discriminator. 


Recently,  VAE  \cite{Diederik:arxiv'22} gained traction as it has better interpretability of latent space, which provides them with a robust mathematical grounding and better generated result in some scenarios. There is already VAE applications in the EDA field, such as David {\it et al.} \cite{ZhuICCAD19:GeniusRoute} adopted VAE for analog routing paradigm.
Based on those observations, we propose a EM-aware IR drop prediction method for on-chip power grid by leveraging the modeling power of VAE. Based on the new prediction model, we further show a fast full-chip power grid IR drop failure fixing framework.Our key contributions are summarized as follows:

\begin{itemlist}
\item We propose a VAE-based EM-aware IR drop prediction model which can fast predict the on chip power grid IR-drop considering EM effect, achieves 40$\%$ reduction in RMSE compare to state-of-the-art GAN-based model~\cite{ZhouJin:ICCAD'20}.

\item We accelerated the SLP method for full-chip power grid IR drop failure fixing by fast acquiring the sensitivity matrix from the VAE model back propagation. 
Experimental results on a number of synthesized power grid benchmarks from ARM Cortex-M0 processor designs show that the proposed method can provide up to 90X speedup over the existing analytical matrix solving-based SLP method ~\cite{Sukharev:2019pg}.
 
\end{itemlist}

The rest of the paper is organized as follows:
Section~\ref{sec:related} reviews the related preliminary works on the
EM-induced IR drop analysis and current EM-aware power grid
optimization strategy. Section~\ref{sec:strategy} introduces the
VAE-based EM-aware IR drop prediction method. Experiment setup, numerical results, as long as
analysis and discussions are summarized in Section~\ref{sec:results}.
Section~\ref{sec:conclusion} concludes the paper.
